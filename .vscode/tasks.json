{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "pxdoc:pull",
      "type": "process",
      "command": "git",
      "args": [
        "pull",
        "--no-recurse-submodules",
        "--no-rebase"
      ],
      "options": { "cwd": "${workspaceFolder}" },
      "presentation": { "panel": "shared", "reveal": "never", "group": "pxdoc", "showReuseMessage": false },
    },
    {
      "label": "pxdoc:update",
      "type": "process",
      "command": "git",
      "args": [
        "submodule",
        "update",
        "--init",
        "--remote",
        "--recursive",
        "--merge"
      ],
      "options": { "cwd": "${workspaceFolder}" },
      "presentation": { "panel": "shared", "reveal": "never", "group": "pxdoc", "showReuseMessage": false },
    },
    {
      "label": "pxdoc:pull+update",
      "dependsOn": ["pxdoc:update", "pxdoc:pull"],
      "dependsOrder": "sequence",
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false },
      "runOptions": { "runOn": "folderOpen" },
      "isBackground": true
    },
    {
      "label": "pxdoc:process",
      "type": "shell",
      "options": { "cwd": "${workspaceFolder}" },
      "command": "./node_modules/.bin/php-bulk",
      "args": ["./src/pxdoc/_bin/scripts/pxdoc.php", "${file}"],
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false }
    },
    {
      "label": "pxdoc:jsmin",
      "type": "shell",
      "options": { "cwd": "${workspaceFolder}" },
      "command": "./node_modules/.bin/esbuild \"${file}\" --log-level=error --minify --target=es2020 --legal-comments=none --outfile=\"${fileDirname}/${fileBasenameNoExtension}.min.js\"",
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false }
    },
    {
      "label": "pxdoc:jsbundle",
      "type": "shell",
      "options": { "cwd": "${workspaceFolder}" },
      "command": "node ./src/pxdoc/_bin/node/build-pxdoc-core.js",
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false }
    },
    {
      "label": "pxdoc:sass:master",
      "type": "shell",
      "options": { "cwd": "${workspaceFolder}" },
      "command": "./node_modules/.bin/sass \"${file}\" \"${fileDirname}/${fileBasenameNoExtension}.min.css\" --style=compressed --no-source-map --quiet",
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false }
    },
    {
      "label": "pxdoc:sass:slave",
      "type": "shell",
      "options": { "cwd": "${workspaceFolder}" },
      "command": "./node_modules/.bin/sass \"${fileDirname}/../styles.scss\"  \"${fileDirname}/../styles.min.css\" --style=compressed --no-source-map --quiet",
      "presentation": { "panel": "shared", "group": "pxdoc", "reveal": "never", "showReuseMessage": false }
    },
  ]
}